<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="Vivian Huang">
<meta name="created" content="2013-05-31">
<meta name="modified" content="Wed 19 Jun 2013 05:08:29 PM CST">
<title>jsTree Prototype</title>
<link rel="stylesheet" href="../src/jstree.css">
<link rel="stylesheet" href="css/jquery.jstree.css">
<link rel="stylesheet" href="../jstree-v.pre1.0/themes/miii/style.css">
<script type="text/javascript" src="../libs/jquery.js"></script>
<script type="text/javascript" src="../jstree-v.pre1.0/jquery.jstree.js"></script>
<!--<script type="text/javascript" src="js/jquery.jstree.js"></script>-->
<style type="text/css">

</style>
</head>
<body>
    <button id="get-checked-button">Get Theme and Customize Checked Nodes</button>
    <h3>Single Selection</h3>
    <div id="demo-default" class="demo"></div>

    <h3>Multi Selection (Checkbox)</h3>
    <div id="demo-checkbox" class="demo"></div>

    <h3>Change Theme</h3>
    <div id="demo-theme" class="demo"></div>

    <h3>Customize Theme</h3>
    <div id="demo-customize" class="demo"></div>

    <h3>Change Type Icon</h3>
    <div id="demo-icon" class="demo"></div>


    <script type="text/javascript">
        // http://luban.danse.us/jazzclub/javascripts/jquery/jsTree/reference/_examples/5_others.html
        $(function () {
            var data = [
                {
                    "attr": {"id": "g001", "rel": "folder"},
                    "data": {
                        "title": "Personals",
                        "attr": {"href": "#", "class": "folder"}
                    }
                },
                {
                    "attr": {"id": "g002", "rel": "folder_photo"},
                    "data": {
                        "title": "Photos",
                        "attr": {"href": "#", "class": "folder"}
                    },
                    "children": [
                        {
                            "attr": {"id": "g003", "rel": "folder_photo"},
                            "data": {
                                "title": "Photo Directory 1",
                                "attr": {"href": "#", "class": "folder"}
                            }
                        },
                        {
                            "attr": {"id": "g004", "rel": "folder_photo"},
                            "data": {
                                "title": "Photo Directory 2",
                                "attr": {"href": "#", "class": "folder"}
                            }
                        },
                        {
                            "attr": {"id": "f001", "rel": "default"},
                            "data": {
                                "title": "Photo File 1",
                                "attr": {"href": "#", "class": "file"}
                            }
                        }
                    ]
                },
                {
                    "attr": {"id": "g005", "rel": "folder_music"},
                    "data": {
                        "title": "Music",
                        "attr": {"href": "#", "class": "folder"}
                    },
                    "children": [
                        {
                            "attr": {"id": "g006", "rel": "folder_music"},
                            "data": {
                                "title": "Music Directory",
                                "attr": {"href": "#", "class": "folder"}
                            }
                        },
                        {
                            "attr": {"id": "f002", "rel": "default"},
                            "data": {
                                "title": "Music File 1",
                                "attr": {"href": "#", "class": "file"}
                            }
                        }
                    ]
                },
                {
                    "attr": {"id": "g005", "rel": "folder_video"},
                    "data": {
                        "title": "Video",
                        "attr": {"href": "#", "class": "folder"}
                    },
                    "children": [
                        {
                            "attr": {"id": "g007", "rel": "folder_video"},
                            "data": {
                                "title": "Video Directory",
                                "attr": {"href": "#", "class": "folder"}
                            }
                        },
                        {
                            "attr": {"id": "f002", "rel": "default"},
                            "data": {
                                "title": "Vidoe File 1",
                                "attr": {"href": "#", "class": "file"}
                            }
                        }
                    ]
                }
            ];

            $("#demo-default").jstree({
                "plugins" : ["themes", "json_data", "ui", "dnd", "types"],
                "themes": {
                    "theme": "classic",
                    "dots": true,
                    "icons": true
                },
                "json_data": {
                    "data": data
                },
                "ui": {
                    "select_limit": 1
                }
            }).bind("open_node.jstree", function (e, data) {
                console.log("open_node.jstree");
                console.log(data);
            }).bind("select_node.jstree", function (e, data) {
                console.log("select_node.jstree");
                console.log(data);
            });

            $("#demo-checkbox").jstree({
                "plugins" : ["themes", "json_data", "ui", "dnd", "types", "checkbox"],
                "themes": {
                    "theme": "classic",
                    "dots": true,
                    "icons": true
                },
                "json_data": {
                    "data": data
                }
            }).bind("open_node.jstree", function (e, data) {
                console.log("open_node.jstree");
                console.log(data);
            }).bind("select_node.jstree", function (e, data) {
                console.log("select_node.jstree");
                console.log(data);
            });

            $("#demo-theme").jstree({
                "plugins" : ["themes", "json_data", "ui", "dnd", "types", "checkbox"],
                "themes": {
                    "theme": "apple",
                    "dots": true,
                    "icons": true
                },
                "json_data": {
                    "data": data
                }
            }).bind("open_node.jstree", function (e, data) {
                console.log("open_node.jstree");
                console.log(data);
            }).bind("select_node.jstree", function (e, data) {
                console.log("select_node.jstree");
                console.log(data);
            });

            $("#demo-customize").jstree({
                "plugins": ["themes", "json_data", "ui", "dnd", "types", "checkbox"],
                "themes": {
                    "theme" : "miii",
                    "dots"  : true,
                    "icons" : true
                },
                "json_data": {
                    "data": data
                },
                "checkbox": {
                    override_ui: true,
                    //real_checkboxes: true
                }
            }).bind("load_node.jstree", function (e, data) {
                console.log("load_node.jstree");
                console.log(data);
                $("a.folder .jstree-checkbox", $(this)).hide();
            }).bind("open_node.jstree", function (e, data) {
                console.log("open_node.jstree");
                console.log(data);
            }).bind("select_node.jstree", function (e, data) {
                console.log("select_node.jstree");
                console.log(data);
            }).bind("change_state.jstree", function (e, data) {
                console.log("change_state.jstree");
                console.log(data.inst.get_checked());
                console.log(data.rslt[0]);
            });

            $("#demo-icon").jstree({
                "plugins": ["themes", "json_data", "ui", "dnd", "types", "checkbox"],
                "themes": {
                    "theme" : "miii",
                    "dots"  : true,
                    "icons" : true
                },
                "json_data": {
                    "data": data
                },
                "checkbox": {
                    override_ui: true
                },
                "types": {
                    "types": {
                        "default": {
                            // I want this type to have no children (so only leaf nodes)
                            // In my case - those are files
                            "valid_children" : "none",
                            // If we specify an icon for the default type it WILL OVERRIDE the theme icons
                            "icon" : {
                                "image" : "img/file_16x16.png"
                            }
                        },
                        "folder_photo": {
                            // can have files and other folders inside of it, but NOT `drive` nodes
                            "valid_children": ["default", "folder_photo"],
                            "icon" : {
                                "image" : "img/folder_photo_20x20.png"
                            }
                        },
                        "folder_music": {
                            // can have files and other folders inside of it, but NOT `drive` nodes
                            "valid_children": ["default", "folder_music"],
                            "icon" : {
                                "image" : "img/folder_music_20x20.png"
                            }
                        },
                        "folder_video": {
                            // can have files and other folders inside of it, but NOT `drive` nodes
                            "valid_children": ["default", "folder_video"],
                            "icon" : {
                                "image" : "img/folder_video_20x20.png"
                            }
                        }
                    }
                }
            }).bind("load_node.jstree", function (e, data) {
                console.log("load_node.jstree");
                $("a.folder .jstree-checkbox", $(this)).hide();
            }).bind("open_node.jstree", function (e, data) {
                console.log("open_node.jstree");
                console.log(data);
            }).bind("select_node.jstree", function (e, data) {
                console.log("select_node.jstree");
                console.log(data);
            });

            $("#get-checked-button").click(function () {
                //console.log($("#demo-theme").jstree("get_selected"));
                console.log($("#demo-customize").jstree("get_checked"));
            });
        });
    </script>
</body>
</html>
